<?xml version="1.0" encoding="UTF-8" ?>
<html>
	<head>
		<style type="text/css">
			
			body {
				background-color: #eee;
				margin: 0px;
				padding: 0px;
			}
			
			div.layout-box {
				padding: 5px;
			}
			
			div.view-box {
				background-color: #fff;
				border-radius: 8px; 
				padding: 5px;
				box-shadow: 2px 2px 5px -1px #000;
			}
			
			div.CodeMirror {
				border: 1px solid #aaa;
				background-color: #fff;
			}

			div.CodeMirror-scroll {
				height: 80%;
			}
			
			.selected {
				background-color: #cdf;
			}
			
			h1 {
			}
			
			h2 {
				margin: 0px;
				font-size: 15px;
				border-bottom: 1px solid #888;
			}
			
		</style>
		<script type="text/javascript">

			function saveEditor() {
				var cursor = codeMirror.getCursor();
				codeMirror.save();
				$('#save-button').click();
				codeMirror.setCursor(cursor);
			}
			$(document).bind("keydown keypress", function(e) {
				if (e.which == 8) {
					var doPrevent = true;
					var element = (event.srcElement || event.target);
					var elementName = element.tagName.toLowerCase();
					if ((elementName === 'input' || elementName === 'textarea') && !element.disabled && !element.readOnly) {
						var type = element.type.toLowerCase();
						if (type === 'text' || type === 'password' || elementName === 'textarea') {
							doPrevent = false;
						}
					}
					if (doPrevent) {
						e.preventDefault();
					}
				}
			});
			
		</script>
	</head>
	<body>
		<div style="position: absolute; top: 0px; left: 0px; width: 400px; height: 85%; padding: 0px;">
			<div class="layout-box">
				<div class="view-box">
					<h2>Files</h2>
					<div style="overflow: scroll; height: 33%;">
						<div wicket:id="files">
							<div wicket:id="file" style="white-space: nowrap;">
								<img wicket:id="icon" style="vertical-align: sub;" /> <span wicket:id="name">name</span>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="layout-box">
				<div class="view-box">
					<h2>Markers</h2>
					<div style="overflow: scroll; height: 33%;">
						<div wicket:id="markers" style="margin: 3px; ">
							<img wicket:id="icon" /> <span wicket:id="meaning">meaning</span>: <span wicket:id="message">message</span>
						</div>
					</div>
				</div>
			</div>
			<div class="layout-box">
				<div class="view-box">
					<h2>Output</h2>
					<div style="overflow: scroll; height: 33%; font-family: monospace; white-space: pre;"><div wicket:id="log" /></div>
				</div>
			</div>
		</div>
		<div class="layout-box" style="margin-left: 400px;">
			<div class="view-box" style="background-color: #fff; height: 95%;">
				<form wicket:id="editorForm" id="editor-form">
					<textarea wicket:id="editorArea" rows="20" cols="80">
					</textarea>
					<input type="submit" value="do not press -- save via Cmd+S !!!" id="save-button" wicket:id="submit" />
				</form>
				<form wicket:id="runForm">
					<input type="submit" value="run" />
				</form>
			</div>
		</div>
	</body>
</html>
